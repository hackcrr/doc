---
title: AI è·¯ç”±æ¥å£ (Beta)
beta: true
---

## ğŸ§ª AI è·¯ç”±æ¥å£ (Beta)

> **çŠ¶æ€ï¼šBeta**  
> æ­¤æ¥å£ç›®å‰å¤„äº Beta æµ‹è¯•é˜¶æ®µï¼Œä»…è´Ÿè´£ç”Ÿæˆâ€œè°ƒç”¨è®¡åˆ’â€ï¼Œ**ä¸ä¼šçœŸæ­£æ‰§è¡Œåç«¯æ¥å£è°ƒç”¨**ã€‚å»ºè®®å…ˆåœ¨æµ‹è¯•ç¯å¢ƒä¸­ä½¿ç”¨ã€‚

### åŸºæœ¬ä¿¡æ¯

- **æ–¹æ³•**: `POST`
- **è·¯å¾„**: <ApiEndpoint method="POST" path="/ai/router"/>
- **è®¤è¯**: éœ€è¦ç™»å½•ï¼ˆ`Authorization: Bearer <token>`ï¼‰

### åŠŸèƒ½è¯´æ˜

å°†ä»»æ„ JSON è¯·æ±‚ä½“äº¤ç»™å¤§æ¨¡å‹ï¼Œç”± AI ç”Ÿæˆä¸€ä»½â€œåº”è¯¥å¦‚ä½•è°ƒç”¨åç«¯æ¥å£â€çš„è·¯ç”±æ–¹æ¡ˆï¼ˆplanï¼‰ã€‚  
å½“å‰ç‰ˆæœ¬åªè¿”å›è§„åˆ’ç»“æœï¼Œä¸æ‰§è¡Œå®é™…è°ƒç”¨ï¼Œé€‚åˆï¼š

- é¢„è§ˆ AI ç”Ÿæˆçš„è°ƒç”¨æ­¥éª¤ï¼›
- å°† plan å­˜æ¡£ã€å®¡é˜…æˆ–ç”¨äºåç»­äººå·¥/ç³»ç»Ÿæ‰§è¡Œï¼›
- è°ƒè¯• AI è·¯ç”±é…ç½®ä¸æç¤ºè¯ã€‚

### è¯·æ±‚å‚æ•°

#### è¯·æ±‚ä½“ (JSON)

è¯·æ±‚ä½“å¯ä»¥æ˜¯ä»»æ„åˆæ³• JSONï¼Œé€šå¸¸åŒ…å«ä¸šåŠ¡æ„å›¾ã€ç›®æ ‡æ•°æ®åº“/è¡¨ã€çº¦æŸæ¡ä»¶ç­‰ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š

```json
{
  "goal": "åœ¨ testdb æ•°æ®åº“çš„ users è¡¨ä¸­æ’å…¥ä¸€æ¡æ–°ç”¨æˆ·ï¼Œå¹¶æŸ¥è¯¢æœ€æ–° 10 æ¡è®°å½•",
  "constraints": {
    "max_rows": 10
  },
  "metadata": {
    "trace_id": "req-123456"
  }
}
```

> **æ³¨æ„**ï¼š  
> - è¯·æ±‚ä½“ **ä¸èƒ½ä¸ºç©º**ï¼Œå¦åˆ™è¿”å› `400`ã€‚  
> - è¯·æ±‚ä½“åŸæ–‡ä¼šè¢«æˆªæ–­åå†™å…¥å®¡è®¡æ—¥å¿—ï¼ˆæœ€å¤šçº¦ 1000 å­—ç¬¦ï¼‰ï¼Œç”¨äºå®‰å…¨å®¡è®¡ã€‚

### å“åº”ç¤ºä¾‹

```json
{
  "success": true,
  "model": "gpt-4.1-mini",
  "plan": {
    "actions": [
      {
        "name": "insert_user",
        "method": "POST",
        "path": "/database/testdb/table/users/data",
        "body": {
          "name": "å¼ ä¸‰",
          "age": 25
        }
      },
      {
        "name": "query_latest_users",
        "method": "GET",
        "path": "/database/testdb/table/users/data",
        "params": {
          "order_by": "created_at desc",
          "limit": 10
        }
      }
    ],
    "comment": "æŒ‰éœ€æ±‚å…ˆæ’å…¥ä¸€æ¡è®°å½•ï¼Œå†æŸ¥è¯¢æœ€æ–° 10 æ¡è®°å½•ã€‚"
  }
}
```

### å“åº”å­—æ®µè¯´æ˜

- **success**: `boolean`ï¼Œæ˜¯å¦ç”Ÿæˆè®¡åˆ’æˆåŠŸã€‚
- **model**: `string`ï¼Œä½¿ç”¨çš„å¤§æ¨¡å‹æ ‡è¯†ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚
- **plan**: `object`ï¼ŒAI ç”Ÿæˆçš„è·¯ç”±æ‰§è¡Œè®¡åˆ’ï¼ˆç»“æ„å¯æ ¹æ®å®é™…å®ç°ç•¥æœ‰ä¸åŒï¼‰ã€‚
- **error**: `string`ï¼Œå½“ `success=false` æ—¶çš„é”™è¯¯ä¿¡æ¯ã€‚

### å¯èƒ½çš„é”™è¯¯

- `400`ï¼šè¯·æ±‚ä½“ä¸ºç©ºæˆ–ä¸æ˜¯åˆæ³• JSONã€‚
- `500`ï¼šAI è·¯ç”±é…ç½®é”™è¯¯ï¼ˆ`AiRouterError`ï¼‰æˆ–è°ƒç”¨å¤§æ¨¡å‹å¤±è´¥ã€‚


