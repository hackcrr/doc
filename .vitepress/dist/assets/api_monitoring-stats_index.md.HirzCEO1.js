import{_ as l,c as e,o as i,aj as r}from"./chunks/framework.e3UxQEvm.js";const m=JSON.parse('{"title":"监控统计","description":"","frontmatter":{},"headers":[],"relativePath":"api/monitoring-stats/index.md","filePath":"api/monitoring-stats/index.md","lastUpdated":1764594265000}'),h={name:"api/monitoring-stats/index.md"};function s(t,a,n,d,o,c){return i(),e("div",null,[...a[0]||(a[0]=[r('<h1 id="监控统计" tabindex="-1">监控统计 <a class="header-anchor" href="#监控统计" aria-label="Permalink to “监控统计”">​</a></h1><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to “概述”">​</a></h2><p>监控统计 API 提供数据库性能、系统状态、API 使用情况等全方位的监控和统计功能，帮助您了解系统运行状况和性能指标。</p><h2 id="接口列表" tabindex="-1">接口列表 <a class="header-anchor" href="#接口列表" aria-label="Permalink to “接口列表”">​</a></h2><h3 id="数据库统计" tabindex="-1">数据库统计 <a class="header-anchor" href="#数据库统计" aria-label="Permalink to “数据库统计”">​</a></h3><ul><li><a href="./database-stats"><code>GET /stats/database</code></a> - 获取所有数据库统计概览</li><li><a href="./database-stats"><code>GET /stats/database/{db_name}</code></a> - 获取单个数据库详细统计</li></ul><h3 id="性能监控" tabindex="-1">性能监控 <a class="header-anchor" href="#性能监控" aria-label="Permalink to “性能监控”">​</a></h3><ul><li><a href="./performance-stats"><code>GET /stats/performance</code></a> - 获取数据库性能统计</li><li><a href="./query-analysis"><code>GET /stats/query-analysis</code></a> - 获取查询分析统计</li></ul><h3 id="使用统计" tabindex="-1">使用统计 <a class="header-anchor" href="#使用统计" aria-label="Permalink to “使用统计”">​</a></h3><ul><li><a href="./api-usage-stats"><code>GET /stats/api-usage</code></a> - 获取 API 使用统计</li><li><a href="./system-stats"><code>GET /stats/system</code></a> - 获取系统统计信息</li><li><a href="./stats-summary"><code>GET /stats/summary</code></a> - 获取统计摘要</li></ul><h2 id="通用要求" tabindex="-1">通用要求 <a class="header-anchor" href="#通用要求" aria-label="Permalink to “通用要求”">​</a></h2><h3 id="认证" tabindex="-1">认证 <a class="header-anchor" href="#认证" aria-label="Permalink to “认证”">​</a></h3><p>所有监控统计接口都需要认证：</p><div class="language-http line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#F07178;">Authorization</span><span style="color:#F78C6C;">:</span><span style="color:#C3E88D;"> Bearer your_api_key</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="权限要求" tabindex="-1">权限要求 <a class="header-anchor" href="#权限要求" aria-label="Permalink to “权限要求”">​</a></h3><ul><li>所有监控统计接口都需要 <code>monitoring</code> 权限</li><li>需要对应数据库的 <code>read</code> 权限</li></ul><h2 id="监控维度" tabindex="-1">监控维度 <a class="header-anchor" href="#监控维度" aria-label="Permalink to “监控维度”">​</a></h2><h3 id="数据库层面" tabindex="-1">数据库层面 <a class="header-anchor" href="#数据库层面" aria-label="Permalink to “数据库层面”">​</a></h3><ul><li>数据库大小和表数量统计</li><li>数据增长趋势分析</li><li>存储空间使用情况</li></ul><h3 id="性能层面" tabindex="-1">性能层面 <a class="header-anchor" href="#性能层面" aria-label="Permalink to “性能层面”">​</a></h3><ul><li>连接数和并发统计</li><li>查询性能分析</li><li>慢查询识别和优化</li></ul><h3 id="系统层面" tabindex="-1">系统层面 <a class="header-anchor" href="#系统层面" aria-label="Permalink to “系统层面”">​</a></h3><ul><li>API 使用频率统计</li><li>错误率和响应时间</li><li>系统资源使用情况</li></ul><h2 id="数据来源" tabindex="-1">数据来源 <a class="header-anchor" href="#数据来源" aria-label="Permalink to “数据来源”">​</a></h2><h3 id="实时监控数据" tabindex="-1">实时监控数据 <a class="header-anchor" href="#实时监控数据" aria-label="Permalink to “实时监控数据”">​</a></h3><ul><li>MySQL 性能模式 (Performance Schema)</li><li>系统状态变量</li><li>API 访问日志</li><li>操作审计日志</li></ul><h3 id="统计计算" tabindex="-1">统计计算 <a class="header-anchor" href="#统计计算" aria-label="Permalink to “统计计算”">​</a></h3><ul><li>实时聚合计算</li><li>历史趋势分析</li><li>性能基准比较</li></ul><h2 id="使用场景" tabindex="-1">使用场景 <a class="header-anchor" href="#使用场景" aria-label="Permalink to “使用场景”">​</a></h2><h3 id="运维监控" tabindex="-1">运维监控 <a class="header-anchor" href="#运维监控" aria-label="Permalink to “运维监控”">​</a></h3><ul><li>实时数据库健康检查</li><li>性能瓶颈识别</li><li>容量规划支持</li></ul><h3 id="业务分析" tabindex="-1">业务分析 <a class="header-anchor" href="#业务分析" aria-label="Permalink to “业务分析”">​</a></h3><ul><li>API 使用模式分析</li><li>用户行为统计</li><li>系统负载预测</li></ul><h3 id="故障诊断" tabindex="-1">故障诊断 <a class="header-anchor" href="#故障诊断" aria-label="Permalink to “故障诊断”">​</a></h3><ul><li>异常检测和告警</li><li>性能问题排查</li><li>安全事件分析</li></ul><h2 id="数据时效性" tabindex="-1">数据时效性 <a class="header-anchor" href="#数据时效性" aria-label="Permalink to “数据时效性”">​</a></h2><h3 id="实时数据" tabindex="-1">实时数据 <a class="header-anchor" href="#实时数据" aria-label="Permalink to “实时数据”">​</a></h3><ul><li>连接状态和活跃查询</li><li>当前系统负载</li><li>实时性能指标</li></ul><h3 id="近实时数据" tabindex="-1">近实时数据 <a class="header-anchor" href="#近实时数据" aria-label="Permalink to “近实时数据”">​</a></h3><ul><li>API 使用统计（分钟级）</li><li>查询性能分析</li><li>错误率统计</li></ul><h3 id="历史数据" tabindex="-1">历史数据 <a class="header-anchor" href="#历史数据" aria-label="Permalink to “历史数据”">​</a></h3><ul><li>长期趋势分析</li><li>容量规划数据</li><li>审计日志记录</li></ul><h2 id="安全特性" tabindex="-1">安全特性 <a class="header-anchor" href="#安全特性" aria-label="Permalink to “安全特性”">​</a></h2><h3 id="数据隔离" tabindex="-1">数据隔离 <a class="header-anchor" href="#数据隔离" aria-label="Permalink to “数据隔离”">​</a></h3><ul><li>用户只能查看自己有权限的数据库统计</li><li>API 使用统计按用户隔离</li><li>敏感信息脱敏处理</li></ul><h3 id="访问控制" tabindex="-1">访问控制 <a class="header-anchor" href="#访问控制" aria-label="Permalink to “访问控制”">​</a></h3><ul><li>监控数据访问权限验证</li><li>操作日志审计</li><li>敏感统计信息保护</li></ul><h2 id="性能考虑" tabindex="-1">性能考虑 <a class="header-anchor" href="#性能考虑" aria-label="Permalink to “性能考虑”">​</a></h2><h3 id="查询优化" tabindex="-1">查询优化 <a class="header-anchor" href="#查询优化" aria-label="Permalink to “查询优化”">​</a></h3><ul><li>统计查询缓存</li><li>分页和限制返回数据量</li><li>异步统计计算</li></ul><h3 id="资源使用" tabindex="-1">资源使用 <a class="header-anchor" href="#资源使用" aria-label="Permalink to “资源使用”">​</a></h3><ul><li>监控数据采样</li><li>统计计算负载均衡</li><li>内存使用优化</li></ul><h2 id="下一步" tabindex="-1">下一步 <a class="header-anchor" href="#下一步" aria-label="Permalink to “下一步”">​</a></h2><ul><li>📊 查看 <a href="./database-stats">数据库统计</a></li><li>⚡ 了解 <a href="./performance-stats">性能统计</a></li><li>🔍 分析 <a href="./query-analysis">查询分析</a></li><li>📈 查看 <a href="./api-usage-stats">API 使用统计</a></li><li>💻 获取 <a href="./system-stats">系统统计</a></li><li>📋 查看 <a href="./stats-summary">统计摘要</a></li></ul>',54)])])}const u=l(h,[["render",s]]);export{m as __pageData,u as default};
