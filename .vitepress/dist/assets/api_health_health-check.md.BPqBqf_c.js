import{_ as r,I as l,c,o as i,j as a,J as p,aj as e,a as n,w as F}from"./chunks/framework.e3UxQEvm.js";const E=JSON.parse('{"title":"å¥åº·æ£€æŸ¥","description":"","frontmatter":{},"headers":[],"relativePath":"api/health/health-check.md","filePath":"api/health/health-check.md","lastUpdated":1764594265000}'),D={name:"api/health/health-check.md"};function y(b,s,d,u,h,m){const o=l("ApiEndpoint"),t=l("Badge");return i(),c("div",null,[s[3]||(s[3]=a("h1",{id:"å¥åº·æ£€æŸ¥",tabindex:"-1"},[n("å¥åº·æ£€æŸ¥ "),a("a",{class:"header-anchor",href:"#å¥åº·æ£€æŸ¥","aria-label":"Permalink to â€œå¥åº·æ£€æŸ¥â€"},"â€‹")],-1)),s[4]||(s[4]=a("h2",{id:"ç«¯ç‚¹ä¿¡æ¯",tabindex:"-1"},[n("ç«¯ç‚¹ä¿¡æ¯ "),a("a",{class:"header-anchor",href:"#ç«¯ç‚¹ä¿¡æ¯","aria-label":"Permalink to â€œç«¯ç‚¹ä¿¡æ¯â€"},"â€‹")],-1)),p(o,{method:"GET",path:"/health"}),s[5]||(s[5]=e('<p>å¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼Œç”¨äºéªŒè¯ API æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚æ­¤ç«¯ç‚¹æ— éœ€è®¤è¯ã€‚</p><h2 id="è¯·æ±‚" tabindex="-1">è¯·æ±‚ <a class="header-anchor" href="#è¯·æ±‚" aria-label="Permalink to â€œè¯·æ±‚â€">â€‹</a></h2><h3 id="è¯·æ±‚å¤´" tabindex="-1">è¯·æ±‚å¤´ <a class="header-anchor" href="#è¯·æ±‚å¤´" aria-label="Permalink to â€œè¯·æ±‚å¤´â€">â€‹</a></h3><p>æ— éœ€ç‰¹æ®Šè¯·æ±‚å¤´ã€‚</p><h3 id="è¯·æ±‚ä½“" tabindex="-1">è¯·æ±‚ä½“ <a class="header-anchor" href="#è¯·æ±‚ä½“" aria-label="Permalink to â€œè¯·æ±‚ä½“â€">â€‹</a></h3><p>æ— è¯·æ±‚ä½“ã€‚</p><h2 id="å“åº”" tabindex="-1">å“åº” <a class="header-anchor" href="#å“åº”" aria-label="Permalink to â€œå“åº”â€">â€‹</a></h2><h3 id="æˆåŠŸå“åº”" tabindex="-1">æˆåŠŸå“åº” <a class="header-anchor" href="#æˆåŠŸå“åº”" aria-label="Permalink to â€œæˆåŠŸå“åº”â€">â€‹</a></h3>',8)),a("p",null,[s[1]||(s[1]=a("strong",null,"å“åº”çŠ¶æ€:",-1)),s[2]||(s[2]=n()),p(t,{type:"success"},{default:F(()=>[...s[0]||(s[0]=[n("200 OK",-1)])]),_:1})]),s[6]||(s[6]=e(`<div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">status</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">healthy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">message</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Database API is running</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="å“åº”å­—æ®µè¯´æ˜" tabindex="-1">å“åº”å­—æ®µè¯´æ˜ <a class="header-anchor" href="#å“åº”å­—æ®µè¯´æ˜" aria-label="Permalink to â€œå“åº”å­—æ®µè¯´æ˜â€">â€‹</a></h3><table tabindex="0"><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>status</code></td><td>string</td><td>æœåŠ¡çŠ¶æ€ï¼Œå›ºå®šä¸º <code>&quot;healthy&quot;</code></td></tr><tr><td><code>message</code></td><td>string</td><td>çŠ¶æ€æè¿°ä¿¡æ¯</td></tr></tbody></table><h2 id="ä½¿ç”¨ç¤ºä¾‹" tabindex="-1">ä½¿ç”¨ç¤ºä¾‹ <a class="header-anchor" href="#ä½¿ç”¨ç¤ºä¾‹" aria-label="Permalink to â€œä½¿ç”¨ç¤ºä¾‹â€">â€‹</a></h2><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-83" id="tab-85" checked><label data-title="cURL ç¤ºä¾‹ " for="tab-85">cURL ç¤ºä¾‹ </label><input type="radio" name="group-83" id="tab-87"><label data-title="Python ç¤ºä¾‹" for="tab-87">Python ç¤ºä¾‹</label><input type="radio" name="group-83" id="tab-89"><label data-title="JavaScript ç¤ºä¾‹" for="tab-89">JavaScript ç¤ºä¾‹</label></div><div class="blocks"><div class="language-bash active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#C3E88D;"> -X</span><span style="color:#C3E88D;"> GET</span><span style="color:#C3E88D;"> https://dbapi.muzilix.cn/health</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> requests</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#82AAFF;"> check_health</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    try</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">        response </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> requests</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://dbapi.muzilix.cn/health</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> timeout</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">        if</span><span style="color:#BABED8;"> response</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">status_code</span><span style="color:#89DDFF;"> ==</span><span style="color:#F78C6C;"> 200</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">            data </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> response</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">json</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#82AAFF;">            print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;æœåŠ¡çŠ¶æ€: </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">status</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">            print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;æ¶ˆæ¯: </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">message</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">            return</span><span style="color:#89DDFF;"> True</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">        else</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#82AAFF;">            print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;æœåŠ¡å¼‚å¸¸ï¼ŒçŠ¶æ€ç : </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">response</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">status_code</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">            return</span><span style="color:#89DDFF;"> False</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    except</span><span style="color:#BABED8;"> requests</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">exceptions</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">RequestException</span><span style="color:#89DDFF;font-style:italic;"> as</span><span style="color:#BABED8;"> e</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#82AAFF;">        print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;å¥åº·æ£€æŸ¥å¤±è´¥: </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">e</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">        return</span><span style="color:#89DDFF;"> False</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ä½¿ç”¨ç¤ºä¾‹</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#82AAFF;"> check_health</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#82AAFF;">    print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">API æœåŠ¡æ­£å¸¸è¿è¡Œ</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#82AAFF;">    print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">API æœåŠ¡å¼‚å¸¸</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#C792EA;">async</span><span style="color:#C792EA;"> function</span><span style="color:#82AAFF;"> checkHealth</span><span style="color:#89DDFF;">()</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    try</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#C792EA;">        const</span><span style="color:#BABED8;"> response</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;font-style:italic;"> await</span><span style="color:#82AAFF;"> fetch</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://dbapi.muzilix.cn/health</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">        if</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">response</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">ok</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">            const</span><span style="color:#BABED8;"> data</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;font-style:italic;"> await</span><span style="color:#BABED8;"> response</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">json</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">            console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">æœåŠ¡çŠ¶æ€: </span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">data</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">status</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">            console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">æ¶ˆæ¯: </span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">data</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">message</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">            return</span><span style="color:#FF9CAC;"> true</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">        }</span><span style="color:#89DDFF;font-style:italic;"> else</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#BABED8;">            console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">æœåŠ¡å¼‚å¸¸ï¼ŒçŠ¶æ€ç : </span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">response</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">status</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">            return</span><span style="color:#FF9CAC;"> false</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">        }</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span><span style="color:#89DDFF;font-style:italic;"> catch</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">error</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">å¥åº·æ£€æŸ¥å¤±è´¥: </span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">error</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">        return</span><span style="color:#FF9CAC;"> false</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä½¿ç”¨ç¤ºä¾‹</span></span>
<span class="line"><span style="color:#82AAFF;">checkHealth</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#BABED8;">(</span><span style="color:#BABED8;font-style:italic;">healthy</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    if</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">healthy</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">API æœåŠ¡æ­£å¸¸è¿è¡Œ</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span><span style="color:#89DDFF;font-style:italic;"> else</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#BABED8;">        console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">API æœåŠ¡å¼‚å¸¸</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div></div></div><h2 id="ä½¿ç”¨åœºæ™¯" tabindex="-1">ä½¿ç”¨åœºæ™¯ <a class="header-anchor" href="#ä½¿ç”¨åœºæ™¯" aria-label="Permalink to â€œä½¿ç”¨åœºæ™¯â€">â€‹</a></h2><h3 id="_1-æœåŠ¡ç›‘æ§" tabindex="-1">1. æœåŠ¡ç›‘æ§ <a class="header-anchor" href="#_1-æœåŠ¡ç›‘æ§" aria-label="Permalink to â€œ1. æœåŠ¡ç›‘æ§â€">â€‹</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#676E95;font-style:italic;"># å®šæ—¶å¥åº·æ£€æŸ¥è„šæœ¬</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#!/bin/bash</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#FFCB6B;"> curl</span><span style="color:#C3E88D;"> -s</span><span style="color:#C3E88D;"> https://dbapi.muzilix.cn/health</span><span style="color:#89DDFF;"> |</span><span style="color:#FFCB6B;"> grep</span><span style="color:#C3E88D;"> -q</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">healthy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span><span style="color:#89DDFF;font-style:italic;"> then</span></span>
<span class="line"><span style="color:#82AAFF;">    echo</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">âœ… APIæœåŠ¡æ­£å¸¸</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">else</span></span>
<span class="line"><span style="color:#82AAFF;">    echo</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">âŒ APIæœåŠ¡å¼‚å¸¸</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    # å‘é€å‘Šè­¦é€šçŸ¥</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">fi</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_2-è´Ÿè½½å‡è¡¡å¥åº·æ£€æŸ¥" tabindex="-1">2. è´Ÿè½½å‡è¡¡å¥åº·æ£€æŸ¥ <a class="header-anchor" href="#_2-è´Ÿè½½å‡è¡¡å¥åº·æ£€æŸ¥" aria-label="Permalink to â€œ2. è´Ÿè½½å‡è¡¡å¥åº·æ£€æŸ¥â€">â€‹</a></h3><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Nginx é…ç½®ç¤ºä¾‹</span></span>
<span class="line"><span style="color:#C792EA;">upstream</span><span style="color:#FFCB6B;"> api_servers </span><span style="color:#BABED8;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    server</span><span style="color:#BABED8;"> 192.168.1.10:5000 check;</span></span>
<span class="line"><span style="color:#89DDFF;">    server</span><span style="color:#BABED8;"> 192.168.1.11:5000 check;</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">server</span><span style="color:#BABED8;"> {</span></span>
<span class="line"><span style="color:#C792EA;">    location</span><span style="color:#FFCB6B;"> /health </span><span style="color:#BABED8;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        proxy_pass </span><span style="color:#BABED8;">http://api_servers/health</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">    }</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_3-å®¹å™¨å¥åº·æ£€æŸ¥" tabindex="-1">3. å®¹å™¨å¥åº·æ£€æŸ¥ <a class="header-anchor" href="#_3-å®¹å™¨å¥åº·æ£€æŸ¥" aria-label="Permalink to â€œ3. å®¹å™¨å¥åº·æ£€æŸ¥â€">â€‹</a></h3><div class="language-dockerfile line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">dockerfile</span><pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Dockerfile å¥åº·æ£€æŸ¥</span></span>
<span class="line"><span style="color:#F78C6C;">HEALTHCHECK</span><span style="color:#BABED8;"> --interval=30s --timeout=3s --start-period=5s --retries=3 \\</span></span>
<span class="line"><span style="color:#F78C6C;">  CMD</span><span style="color:#BABED8;"> curl -f https://dbapi.muzilix.cn/health || exit 1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8;" tabindex="0" dir="ltr"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Docker Compose å¥åº·æ£€æŸ¥</span></span>
<span class="line"><span style="color:#F07178;">version</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">services</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">  api</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">    image</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> your-api-image</span></span>
<span class="line"><span style="color:#F07178;">    healthcheck</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">      test</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">CMD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">curl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">-f</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">https://dbapi.muzilix.cn/health</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#F07178;">      interval</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> 30s</span></span>
<span class="line"><span style="color:#F07178;">      timeout</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> 10s</span></span>
<span class="line"><span style="color:#F07178;">      retries</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="æ³¨æ„äº‹é¡¹" tabindex="-1">æ³¨æ„äº‹é¡¹ <a class="header-anchor" href="#æ³¨æ„äº‹é¡¹" aria-label="Permalink to â€œæ³¨æ„äº‹é¡¹â€">â€‹</a></h2><ol><li><strong>æ— è®¤è¯è¦æ±‚</strong>: æ­¤ç«¯ç‚¹ä¸éœ€è¦ API å¯†é’¥æˆ–ä»»ä½•è®¤è¯ä¿¡æ¯</li><li><strong>è½»é‡çº§</strong>: å“åº”å¿«é€Ÿï¼Œä¸æ¶‰åŠæ•°æ®åº“è¿æ¥æˆ–å¤æ‚æ“ä½œ</li><li><strong>åŸºç¡€çŠ¶æ€æ£€æŸ¥</strong>: ä»…éªŒè¯ Web æœåŠ¡æ˜¯å¦è¿è¡Œï¼Œä¸æ£€æŸ¥æ•°æ®åº“è¿æ¥çŠ¶æ€</li><li><strong>ç›‘æ§å‹å¥½</strong>: é€‚åˆç”¨äºå„ç§ç›‘æ§ç³»ç»Ÿå’Œå¥åº·æ£€æŸ¥å·¥å…·</li></ol><h2 id="æ•…éšœæ’é™¤" tabindex="-1">æ•…éšœæ’é™¤ <a class="header-anchor" href="#æ•…éšœæ’é™¤" aria-label="Permalink to â€œæ•…éšœæ’é™¤â€">â€‹</a></h2><p>å¦‚æœå¥åº·æ£€æŸ¥å¤±è´¥ï¼Œå¯èƒ½çš„åŸå› åŒ…æ‹¬ï¼š</p><ul><li>ğŸ”Œ API æœåŠ¡æœªå¯åŠ¨</li><li>ğŸŒ ç½‘ç»œè¿æ¥é—®é¢˜</li><li>ğŸ”„ æœåŠ¡ç«¯å£è¢«å ç”¨</li><li>ğŸ’» æœåŠ¡å™¨èµ„æºä¸è¶³</li></ul><h2 id="ç›¸å…³é“¾æ¥" tabindex="-1">ç›¸å…³é“¾æ¥ <a class="header-anchor" href="#ç›¸å…³é“¾æ¥" aria-label="Permalink to â€œç›¸å…³é“¾æ¥â€">â€‹</a></h2><ul><li><a href="/guide/quick-start">å¿«é€Ÿå¼€å§‹æŒ‡å—</a></li><li><a href="/api/">API æ€»è§ˆ</a></li><li><a href="/api/monitoring-stats/">ç›‘æ§ç»Ÿè®¡æ¥å£</a></li></ul>`,20))])}const C=r(D,[["render",y]]);export{E as __pageData,C as default};
